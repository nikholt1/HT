<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>


    <meta charset="UTF-8">
    <title>Add Profile</title>
    <link rel="icon" type="image/png" th:href="@{https://raw.githubusercontent.com/nikholt1/HTasset/refs/heads/main/storedAssets/R.png}">
    <link rel="stylesheet" th:href="@{/main.css}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<nav class="navbar">
    <div class="nav-left">
        <a class="navItem" th:href="@{/}">Start</a>
        <a class="navItem" th:href="@{/profiles/manageAccount}">Manage Users</a>
        <a class="navItem" th:href="@{/profiles/add}">Add User</a>

    </div>

    <div class="nav-right">
        <a th:href="@{/videos/settings#help}">
            <button class="help-btn" id="helpBtn">Help</button>
        </a>

        <div class="profile-dropdown">
            <img th:src="@{https://raw.githubusercontent.com/nikholt1/HTasset/refs/heads/main/storedAssets/R.png}"
                 alt="Profile Picture"
                 class="profile-pic"
                 id="profilePic">
        </div>
    </div>
</nav>
<div class="dropdown-menu" id="dropdownMenu">
    <a class="dpdItemUserName" th:text="${userName}"></a>
    <a class="dpdItem" th:href="@{/}">Change Profile</a>
    <a class="dpdItem" th:href="@{/profiles/manageAccount}">Manage users</a>
    <a class="dpdItem" th:href="@{/profiles/add}">Add new user</a>
    <a class="dpdItemLogOut" th:href="@{/logout}">Logout</a>
</div>
<section class="manageAccountSection">
    <div class="addUser-container">
        <h2>Add New Profile</h2>

        <form class="addNewUserForm" th:action="@{/profiles/addUser}" th:object="${user}" method="post">
            <h3>Username</h3>
            <input type="text" id="username" th:field="*{username}" required placeholder="Username"/>

            <h3>Profile image</h3>
            <div class="chooseProfilePictureDiv">
                <select id="profilePicture" th:field="*{profilePicturePath}">
                    <option th:each="img : ${images}" th:value="${img}" th:text="${img}"></option>
                </select>

            </div>
            <p>The best format for uploading images is jpg
                If the image is .png or something else, this could be done by renaming the image to “whatyouwantittobe.jpg”
            </p>
            <button type="submit">Save</button>
        </form>
    </div>


</section>

<section class="arrowToFooter">
    <p>To read about the project to understand more about how the program functions you can visit:</p>
    <span>▼</span>

</section>
<img class="barMagentaImageReverse" th:src="@{/images/imagesTemplates/barMagentaLight.jpg}">
<section class="footer">
    <footer>
        <div class="footer-container">
            <!-- Left side -->
            <div class="footer-left">
                <img class="hero-logo" src="https://raw.githubusercontent.com/nikholt1/HTasset/refs/heads/main/loginImage/logo.png">
                <p>Visit the project here: <a class="footerLinksPortfolio" href="niklasholtlau.web.app/R.html">niklasholtlau.web.app/R.html</a></p>
                <p>Go ahead and visit my github, linked in or my portfolio website, which contains a lot more about who i am, and my other projects</p>
            </div>

            <!-- Right side -->
            <div class="footer-right">
                <p><img src="https://cdn-icons-png.flaticon.com/512/2111/2111432.png">
                    <a class="footerLinks" href="https://github.com/nikholt1" about="_blank">nikholt1</a></p>
                <p><img src="https://cdn-icons-png.flaticon.com/512/3536/3536505.png">
                    <a class="footerLinks" href="https://www.linkedin.com/in/niklas-holt-l%C3%A4u-0b06542a4/" about="_blank">Niklas Holt Läu</a></p>
                <p><img class="portfolioLogo" src="https://raw.githubusercontent.com/nikholt1/HTasset/refs/heads/main/storedAssets/blob.png" >
                    <a class="footerLinks" href="https://niklasholtlau.web.app/R.html" about="_blank">Portfolio Website</a></p>
            </div>
        </div>
    </footer>
</section>


</body>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const profilePic = document.getElementById("profilePic");
        const dropdown = document.getElementById("dropdownMenu");

        if (profilePic && dropdown) {
            profilePic.addEventListener("click", (e) => {
                e.stopPropagation();
                dropdown.style.display =
                    dropdown.style.display === "block" ? "none" : "block";
            });

            document.addEventListener("click", () => {
                dropdown.style.display = "none";
            });
        }
    });
</script>
</html>